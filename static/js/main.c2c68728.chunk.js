(this["webpackJsonpsoc-network-ts"]=this["webpackJsonpsoc-network-ts"]||[]).push([[0],{104:function(A,e,t){},142:function(A,e,t){A.exports={loader:"loader_loader__2GcSV"}},143:function(A,e,t){A.exports={statusContainer:"ProfileStatus_statusContainer__1jrZn"}},145:function(A,e,t){A.exports={profileContainer:"Profile_profileContainer__3rQfL"}},15:function(A,e,t){A.exports={descriptionBlock:"ProfileInfo_descriptionBlock__ouctn",profileItemLeft:"ProfileInfo_profileItemLeft__20l_r",profileItemRight:"ProfileInfo_profileItemRight__1h1Y3",profileImg:"ProfileInfo_profileImg__13Bxu",statusMark:"ProfileInfo_statusMark__ijyGc",jobDescription:"ProfileInfo_jobDescription__3YClo",profileInfoItem:"ProfileInfo_profileInfoItem__36NGh",fullName:"ProfileInfo_fullName__2DoR2",contacts:"ProfileInfo_contacts__3wyFn",aboutMeInfo:"ProfileInfo_aboutMeInfo__3BGg6"}},25:function(A,e,t){A.exports={dialogs:"Dialogs_dialogs__1R1hK",dialogsItems:"Dialogs_dialogsItems__1wdsp",active:"Dialogs_active__3dJZw",dialog:"Dialogs_dialog__gyL1y",messages:"Dialogs_messages__Mfqt_",message:"Dialogs_message__8qdnU"}},255:function(A,e,t){},299:function(A,e,t){"use strict";t.r(e);var s=t(0),n=t(1),a=t.n(n),r=(t(104),t(9)),c=t(47),i=t(5),o="SEND_MESSAGE",l={messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}],dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Victor"},{id:6,name:"Valera"}]},u=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:var t=e.newMessageBody;return Object(i.a)(Object(i.a)({},A),{},{messages:[].concat(Object(c.a)(A.messages),[{id:6,message:t}])});default:return A}},j={},d=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return A},f=t(138),b=t.n(f).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"211feec0-1855-4be6-873e-e36e9bb0fc77"}}),m=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return b.get("users?page=".concat(A,"&count=").concat(e)).then((function(A){return A.data}))},O=function(A){return b.post("follow/".concat(A),{})},p=function(A){return b.delete("follow/".concat(A))},g=function(A){return console.warn("Obsolete method. Please use profileApy object"),h.getProfile(A)},h={getProfile:function(A){return b.get("profile/"+A)},getStatus:function(A){return b.get("profile/status/"+A)},updateStatus:function(A){return b.put("profile/status",{status:A})}},x=function(){return b.get("auth/me")},v=function(A,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b.post("auth/login",{email:A,password:e,rememberMe:t})},_=function(){return b.delete("auth/login")},N="ADD-POST",w="SET_USER_PROFILE",P="SET_STATUS",I={posts:[{id:1,message:"Hi, how are you?",likesCount:23},{id:2,message:"It's my first post",likesCount:14},{id:3,message:"BalBla",likesCount:14},{id:4,message:"DaDa",likesCount:14}],profile:null,status:""},B=function(A){return{type:P,status:A}},M=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:var t={id:5,message:e.newPostText,likesCount:0};return Object(i.a)(Object(i.a)({},A),{},{posts:[].concat(Object(c.a)(A.posts),[t])});case w:return Object(i.a)(Object(i.a)({},A),{},{profile:e.profile});case P:return Object(i.a)(Object(i.a)({},A),{},{status:e.status});default:return A}},C="FOLLOW",k="UNFOLLOW",y="SET_USERS",S="SET_CURRENT_PAGE",z="SET_TOTAL_USERS_COUNT",H="TOGGLE_IS_FETCHING",D="TOGGLE_IS_FOLLOWING_PROGRESS",E={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},T=function(A){return{type:S,currentPage:A}},F=function(A){return{type:H,isFetching:A}},U=function(A,e){return{type:D,isFetching:A,userId:e}},L=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(i.a)(Object(i.a)({},A),{},{users:A.users.map((function(A){return A.id===e.userId?Object(i.a)(Object(i.a)({},A),{},{followed:!0}):A}))});case k:return Object(i.a)(Object(i.a)({},A),{},{users:A.users.map((function(A){return A.id===e.userId?Object(i.a)(Object(i.a)({},A),{},{followed:!1}):A}))});case y:return Object(i.a)(Object(i.a)({},A),{},{users:e.users});case S:return Object(i.a)(Object(i.a)({},A),{},{currentPage:e.currentPage});case z:return Object(i.a)(Object(i.a)({},A),{},{totalUsersCount:e.count});case H:return Object(i.a)(Object(i.a)({},A),{},{isFetching:e.isFetching});case D:return Object(i.a)(Object(i.a)({},A),{},{followingInProgress:e.isFetching?[].concat(Object(c.a)(A.followingInProgress),[e.userId]):A.followingInProgress.filter((function(A){return A!==e.userId}))});default:return A}},R=t(42),W="SET_USER_DATA",G={userId:null,email:null,login:null,isAuth:!1},Z=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case W:var t=Object(i.a)(Object(i.a)({},A),e.payload);return t;default:return A}},Q=function(A,e,t,s){return{type:W,payload:{userId:A,email:e,login:t,isAuth:s}}},X=function(){return function(A){return x().then((function(e){if(0===e.data.resultCode){var t=e.data.data,s=t.id,n=t.email,a=t.login;A(Q(s,n,a,!0))}}))}},J=t(139),Y=t(137),V="INITIALIZED_SUCCESS",K={initialized:!1},q=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case V:return Object(i.a)(Object(i.a)({},A),{},{initialized:!0});default:return A}},$=Object(r.c)({DialogsPage:u,ProfilePage:M,UsersPage:L,Sidebar:d,Auth:Z,form:Y.a,App:q}),AA=Object(r.e)($,Object(r.a)(J.a));window.store=AA;var eA=AA,tA=t(70),sA=t.n(tA),nA=t(29),aA=t(30),rA=t(32),cA=t(31),iA=(t(255),t(6)),oA=t.n(iA),lA=t(13),uA=t(14),jA=t(93),dA=t(94),fA=t(95),bA=t(96),mA=t(97),OA=t(98);var pA=function(){return Object(s.jsxs)("nav",{className:oA.a.nav,children:[Object(s.jsx)("div",{className:oA.a.item,children:Object(s.jsxs)(lA.b,{to:"/profile",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:jA.faAddressCard,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:jA.faAddressCard,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"Profile",children:"Profile"})})]})}),Object(s.jsx)("div",{className:"".concat(oA.a.item," ").concat(oA.a.activeLink),children:Object(s.jsxs)(lA.b,{to:"/dialogs",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:dA.faEnvelope,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:dA.faEnvelope,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"Messages",children:"Messages"})})]})}),Object(s.jsx)("div",{className:oA.a.item,children:Object(s.jsxs)(lA.b,{to:"/users",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:fA.faUsers,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:fA.faUsers,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"Users",children:"Users"})})]})}),Object(s.jsx)("div",{className:oA.a.item,children:Object(s.jsxs)(lA.b,{to:"/news",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:bA.faNewspaper,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:bA.faNewspaper,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"News",children:"News"})})]})}),Object(s.jsx)("div",{className:oA.a.item,children:Object(s.jsxs)(lA.b,{to:"/music",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:mA.faHeadphones,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:mA.faHeadphones,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"Music",children:"Music"})})]})}),Object(s.jsx)("div",{className:oA.a.item,children:Object(s.jsxs)(lA.b,{to:"/settings",activeClassName:oA.a.activeLink,children:[Object(s.jsxs)("div",{className:oA.a.icon,children:[Object(s.jsx)(uA.a,{icon:OA.faUserCog,className:oA.a.fa}),Object(s.jsx)(uA.a,{icon:OA.faUserCog,className:oA.a.fa})]}),Object(s.jsx)("div",{className:oA.a.name,children:Object(s.jsx)("span",{"data-text":"Settings",children:"Settings"})})]})})]})},gA=t(12);var hA=function(){return Object(s.jsx)("div",{children:"News"})};var xA=function(){return Object(s.jsx)("div",{children:"Music"})};var vA=function(){return Object(s.jsx)("div",{children:"Settings"})},_A=t(11),NA=t(49),wA=function(A){return{isAuth:A.Auth.isAuth}};function PA(A){return Object(_A.b)(wA,{})((function(e){var t=e.isAuth,n=Object(NA.a)(e,["isAuth"]);return t?Object(s.jsx)(A,Object(i.a)({},n)):Object(s.jsx)(gA.a,{to:"/login"})}))}var IA=t(25),BA=t.n(IA);var MA=function(A){var e="/dialogs/"+A.id;return Object(s.jsx)("div",{className:"".concat(BA.a.dialog," ").concat(BA.a.active),children:Object(s.jsx)(lA.b,{to:e,children:A.name})})};var CA=function(A){return Object(s.jsx)("div",{className:BA.a.message,children:A.message})},kA=function(A){if(!A)return"Field is required"},yA=function(A){return function(e){if(e.length>A)return"Max length is ".concat(A," symbols")}},SA=t(135),zA=t(136),HA=t(59),DA=t.n(HA),EA=function(A){var e=A.meta,t=Object(NA.a)(A,["meta"]),n=e.touched&&e.error;return Object(s.jsxs)("div",{className:DA.a.formControl+" "+(n?DA.a.error:""),children:[Object(s.jsx)("div",{children:t.children}),n&&Object(s.jsx)("span",{children:e.error})]})},TA=function(A){var e=A.input,t=(A.meta,Object(NA.a)(A,["input","meta"]));return Object(s.jsxs)(EA,Object(i.a)(Object(i.a)({},A),{},{children:[" ",Object(s.jsx)("textarea",Object(i.a)(Object(i.a)({},e),t))]}))},FA=function(A){var e=A.input,t=(A.meta,Object(NA.a)(A,["input","meta"]));return Object(s.jsxs)(EA,Object(i.a)(Object(i.a)({},A),{},{children:[" ",Object(s.jsx)("input",Object(i.a)(Object(i.a)({},e),t))]}))},UA=t(99),LA=t.n(UA),RA=yA(50),WA=Object(zA.a)({form:"dialogAddMessageForm"})((function(A){return Object(s.jsxs)("form",{onSubmit:A.handleSubmit,className:LA.a.messageFormContainer,children:[Object(s.jsx)("div",{children:Object(s.jsx)(SA.a,{component:TA,validate:[kA,RA],name:"newMessageBody",placeholder:"Write your message"})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:LA.a.messageButton,children:"Send"})})]})}));var GA=function(A){var e=A.dialogsPage,t=e.dialogs.map((function(A){return Object(s.jsx)(MA,{name:A.name,id:A.id},A.id)})),n=e.messages.map((function(A){return Object(s.jsx)(CA,{message:A.message},A.id)}));return Object(s.jsxs)("div",{className:BA.a.dialogs,children:[Object(s.jsx)("div",{className:BA.a.dialogsItems,children:t}),Object(s.jsx)("div",{className:BA.a.messages,children:Object(s.jsx)("div",{children:n})}),Object(s.jsx)(WA,{onSubmit:function(e){A.sendMessage(e.newMessageBody)}})]})},ZA=Object(r.d)(Object(_A.b)((function(A){return{dialogsPage:A.DialogsPage,isAuth:A.Auth.isAuth}}),(function(A){return{sendMessage:function(e){A(function(A){return{type:o,newMessageBody:A}}(e))}}})),PA)(GA),QA=t(15),XA=t.n(QA),JA=t.p+"static/media/load.635828fc.gif",YA=t(142),VA=t.n(YA);function KA(){return Object(s.jsx)("div",{className:VA.a.loader,children:Object(s.jsx)("img",{src:JA})})}var qA=t(102),$A=t(143),Ae=t.n($A),ee=function(A){var e=Object(n.useState)(!1),t=Object(qA.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(A.status),i=Object(qA.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){l(A.status)}),[A.status]);return Object(s.jsxs)("div",{className:"".concat(XA.a.profileInfoItems," ").concat(Ae.a.statusContainer),children:[!a&&Object(s.jsx)("div",{children:Object(s.jsx)("span",{onDoubleClick:function(){r(!0)},children:A.status||"------"})}),a&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(A){l(A.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),A.updateStatus(o)},value:o})})]})};function te(A){return A.profile?Object(s.jsxs)("div",{className:XA.a.descriptionBlock,children:[Object(s.jsxs)("div",{className:XA.a.profileItemLeft,children:[Object(s.jsx)("div",{className:"".concat(XA.a.profileInfoItems," ").concat(XA.a.profileImg),children:Object(s.jsx)("img",{src:A.profile.photos.large})}),Object(s.jsx)("div",{className:" ".concat(XA.a.profileInfoItems," ").concat(XA.a.fullName),children:A.profile.fullName}),Object(s.jsx)("div",{className:XA.a.statusMark,children:"Write your status:"}),Object(s.jsx)(ee,{status:A.status,updateStatus:A.updateStatus})]}),Object(s.jsxs)("div",{className:XA.a.profileItemRight,children:[Object(s.jsxs)("div",{className:XA.a.jobDescription,children:[Object(s.jsx)("div",{className:XA.a.profileInfoItem,children:"Looking for a job:"}),Object(s.jsx)("div",{children:A.profile.lookingForAJobDescription})]}),Object(s.jsxs)("div",{className:XA.a.aboutMeInfo,children:[Object(s.jsx)("div",{className:XA.a.profileInfoItem,children:"About me:"}),Object(s.jsx)("div",{children:A.profile.aboutMe})]}),Object(s.jsx)("div",{className:XA.a.contacts,children:Object(s.jsx)("div",{className:XA.a.profileInfoItem,children:"My contacts:"})})]})]}):Object(s.jsx)(KA,{})}var se=t(48),ne=t.n(se),ae=t(144);var re=function(A){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("img",{src:"https://images.app.goo.gl/5ZCf4bKyMsx3XMHf7",alt:"userImg"}),Object(s.jsx)("div",{className:ne.a.postMessage,children:A.message}),Object(s.jsx)("div",{className:ne.a.likeItem,children:Object(s.jsxs)("span",{children:[Object(s.jsx)(uA.a,{icon:ae.faThumbsUp,className:ne.a.fa})," ",A.likesCount]})})]})},ce=t(50),ie=t.n(ce),oe=yA(50);var le=Object(zA.a)({form:"ProfileAddNewPostForm"})((function(A){return Object(s.jsxs)("form",{onSubmit:A.handleSubmit,className:ie.a.form,children:[Object(s.jsx)("div",{className:ie.a.formField,children:Object(s.jsx)(SA.a,{component:TA,placeholder:"Write your thoughts...",name:"newPostText",validate:[kA,oe]})}),Object(s.jsx)("button",{className:ie.a.buttonForm,children:"Add post"})]})})),ue=function(A){var e=A.posts.map((function(A){return Object(s.jsx)("div",{className:ne.a.post,children:Object(s.jsx)(re,{message:A.message,likesCount:A.likesCount},A.id)})}));return Object(s.jsxs)("div",{className:ie.a.postsBlock,children:[Object(s.jsx)(le,{onSubmit:function(e){A.addPost(e.newPostText)}}),Object(s.jsx)("div",{className:ie.a.posts,children:e})]})},je=Object(_A.b)((function(A){return{posts:A.ProfilePage.posts}}),(function(A){return{addPost:function(e){A(function(A){return{type:N,newPostText:A}}(e))}}}))(ue),de=t(145),fe=t.n(de);var be=function(A){return Object(s.jsxs)("div",{className:fe.a.profileContainer,children:[Object(s.jsx)(te,{profile:A.profile,status:A.status,updateStatus:A.updateStatus}),Object(s.jsx)(je,{})]})},me=function(A){Object(rA.a)(t,A);var e=Object(cA.a)(t);function t(){return Object(nA.a)(this,t),e.apply(this,arguments)}return Object(aA.a)(t,[{key:"componentDidMount",value:function(){var A=this.props.match.params.userId;!A&&this.props.authorizedUserId&&((A=+this.props.authorizedUserId)||this.props.history.push("/login")),this.props.getUserProfile(+A),this.props.getUserStatus(+A)}},{key:"render",value:function(){return Object(s.jsx)(be,Object(i.a)(Object(i.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(a.a.Component),Oe=Object(r.d)(Object(_A.b)((function(A){return{profile:A.ProfilePage.profile,status:A.ProfilePage.status,authorizedUserId:A.Auth.userId,isAuth:A.Auth.isAuth}}),{getUserProfile:function(A){return function(e){g(A).then((function(A){var t;e((t=A.data,{type:w,profile:t}))}))}},getUserStatus:function(A){return function(e){h.getStatus(A).then((function(A){e(B(A.data))}))}},updateStatus:function(A){return function(e){h.updateStatus(A).then((function(t){0===t.data.resultCode&&e(B(A))})).catch((function(A){console.log(A)}))}}}),gA.f,PA)(me),pe=t(34),ge=t.n(pe),he=t(146);var xe=function(A){return Object(s.jsxs)("header",{className:ge.a.header,children:[Object(s.jsxs)("div",{className:ge.a.logo,children:[Object(s.jsx)(uA.a,{icon:he.faChessQueen,className:ge.a.fa})," social network"]}),Object(s.jsx)("div",{className:ge.a.loginBlock,children:A.isAuth?Object(s.jsxs)("div",{className:ge.a.loggedName,children:[A.login,Object(s.jsx)("button",{onClick:A.logout,children:"Log out"})]}):Object(s.jsx)(lA.b,{to:"/login",children:"Log in"})})]})},ve=function(A){Object(rA.a)(t,A);var e=Object(cA.a)(t);function t(){return Object(nA.a)(this,t),e.apply(this,arguments)}return Object(aA.a)(t,[{key:"render",value:function(){return Object(s.jsx)(xe,Object(i.a)({},this.props))}}]),t}(a.a.Component),_e=Object(_A.b)((function(A){return{isAuth:A.Auth.isAuth,login:A.Auth.login}}),{logout:function(){return function(A){_().then((function(e){0===e.data.resultCode&&A(Q(null,null,null,!1))}))}}})(ve),Ne=t(39),we=t.n(Ne);function Pe(A){for(var e=Math.ceil(A.totalUsersCount/A.pageSize),t=[],n=1;n<=e;n++)t.push(n);return Object(s.jsx)("div",{className:we.a.usersContainer,children:Object(s.jsx)("div",{className:we.a.container,children:A.users.map((function(e){return Object(s.jsxs)("div",{className:we.a.card,children:[Object(s.jsx)("div",{className:we.a.imgBox,children:Object(s.jsx)(lA.b,{to:"/profile/"+e.id,children:Object(s.jsx)("img",{src:null!==e.photos.small?e.photos.small:"data:image/jpeg;base64,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",className:we.a.userPhoto})})}),Object(s.jsxs)("div",{className:we.a.details,children:[Object(s.jsx)("h2",{children:e.name}),Object(s.jsx)("span",{children:e.status}),Object(s.jsx)("span",{children:"u.location.country"}),Object(s.jsx)("span",{children:"u.location.country"}),e.followed?Object(s.jsx)("button",{disabled:A.followingInProgress.some((function(A){return A===e.id})),onClick:function(){A.unfollow(e.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:A.followingInProgress.some((function(A){return A===e.id})),onClick:function(){A.follow(e.id)},children:"Follow"})]})]},e.id)}))})})}var Ie=t(147),Be=Object(Ie.a)((function(A){return A.UsersPage.users}),(function(A){return A.filter((function(A){return!0}))})),Me=function(A){return A.UsersPage.pageSize},Ce=function(A){return A.UsersPage.totalUsersCount},ke=function(A){return A.UsersPage.currentPage},ye=function(A){return A.UsersPage.isFetching},Se=function(A){return A.UsersPage.followingInProgress},ze=function(A){Object(rA.a)(t,A);var e=Object(cA.a)(t);function t(){var A;Object(nA.a)(this,t);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(A=e.call.apply(e,[this].concat(n))).onPageChanged=function(e){A.props.requestUsers(e,A.props.pageSize)},A}return Object(aA.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(KA,{}):null,Object(s.jsx)(Pe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),t}(a.a.Component),He=Object(r.d)(Object(_A.b)((function(A){return{users:Be(A),pageSize:Me(A),totalUsersCount:Ce(A),currentPage:ke(A),isFetching:ye(A),followingInProgress:Se(A)}}),{follow:function(A){return function(e){e(U(!0,A)),O(A).then((function(t){0===t.data.resultCode&&e(function(A){return{type:C,userId:A}}(A)),e(U(!1,A))}))}},unfollow:function(A){return function(e){e(U(!0,A)),p(A).then((function(t){0===t.data.resultCode&&e(function(A){return{type:k,userId:A}}(A)),e(U(!1,A))}))}},setCurrentPage:T,requestUsers:function(A,e){return function(t){t(F(!0)),t(T(A)),m(A,e).then((function(A){var e,s;t((e=A.items,{type:y,users:e})),t((s=A.totalCount,{type:z,count:s})),t(F(!1))}))}}}))(ze),De=t(35),Ee=t.n(De),Te=Object(zA.a)({form:"login"})((function(A){return Object(s.jsxs)("form",{onSubmit:A.handleSubmit,children:[Object(s.jsxs)("div",{className:Ee.a.fieldBox,children:[Object(s.jsx)("span",{children:"Email"}),Object(s.jsx)(SA.a,{placeholder:"email",name:"email",validate:[kA],component:FA})]}),Object(s.jsxs)("div",{className:Ee.a.fieldBox,children:[Object(s.jsx)("span",{children:"Password"}),Object(s.jsx)(SA.a,{placeholder:"Password",name:"password",type:"password",validate:[kA],component:FA})]}),Object(s.jsxs)("div",{className:Ee.a.rememberMe,children:[Object(s.jsx)(SA.a,{classname:Ee.a.checkBox,type:"checkbox",name:"rememberMe",component:FA}),Object(s.jsx)("label",{children:"remember me"})]}),Object(s.jsx)("div",{className:Ee.a.fieldBox,children:Object(s.jsx)("button",{children:"Login"})}),A.error&&Object(s.jsx)("div",{className:DA.a.formSummeryError,children:A.error})]})})),Fe=Object(_A.b)((function(A){return{isAuth:A.Auth.isAuth}}),{login:function(A,e,t){return function(s){v(A,e,t).then((function(A){if(0===A.data.resultCode)s(X());else{var e=A.data.messages.length>0?A.data.messages[0]:"Some error";s(Object(R.a)("login",{_error:e}))}}))}}})((function(A){return A.isAuth?Object(s.jsx)(gA.a,{to:"/profile"}):Object(s.jsx)("div",{className:Ee.a.loginContentBox,children:Object(s.jsxs)("div",{className:Ee.a.formBox,children:[Object(s.jsx)("h1",{children:"login"}),Object(s.jsx)(Te,{onSubmit:function(e){A.login(e.email,e.password,e.rememberMe)}})]})})})),Ue=function(A){Object(rA.a)(t,A);var e=Object(cA.a)(t);function t(){return Object(nA.a)(this,t),e.apply(this,arguments)}return Object(aA.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{children:[Object(s.jsx)(_e,{}),Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(pA,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[Object(s.jsx)(gA.b,{path:"/dialogs",render:function(){return Object(s.jsx)(ZA,{})}}),Object(s.jsx)(gA.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(Oe,{})}}),Object(s.jsx)(gA.b,{path:"/users",render:function(){return Object(s.jsx)(He,{})}}),Object(s.jsx)(gA.b,{path:"/news",render:function(){return Object(s.jsx)(hA,{})}}),Object(s.jsx)(gA.b,{path:"/music",render:function(){return Object(s.jsx)(xA,{})}}),Object(s.jsx)(gA.b,{path:"/settings",render:function(){return Object(s.jsx)(vA,{})}}),Object(s.jsx)(gA.b,{path:"/login",render:function(){return Object(s.jsx)(Fe,{})}})]})]})]}):Object(s.jsx)(KA,{})}}]),t}(a.a.Component),Le=Object(r.d)(gA.f,Object(_A.b)((function(A){return{initialized:A.App.initialized}}),{initializeApp:function(){return function(A){A(X()).then((function(){A({type:V})}))}}}))(Ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));sA.a.render(Object(s.jsx)(lA.a,{children:Object(s.jsx)(_A.a,{store:eA,children:Object(s.jsx)(Le,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()})).catch((function(A){console.error(A.message)}))},34:function(A,e,t){A.exports={header:"Header_header__1E8aN",logo:"Header_logo__26hxl",fa:"Header_fa__ucwRi",loginBlock:"Header_loginBlock__l8BLs",loggedName:"Header_loggedName__qvkM5"}},35:function(A,e,t){A.exports={loginContentBox:"Login_loginContentBox__1PHR9",formBox:"Login_formBox__By_-4",fieldBox:"Login_fieldBox__8bOVW",rememberMe:"Login_rememberMe__3wL42",checkBox:"Login_checkBox__2kjaw"}},39:function(A,e,t){A.exports={usersContainer:"users_usersContainer__1yMOv",container:"users_container__bUhFp",card:"users_card__1BvjP",imgBox:"users_imgBox__15S50",userPhoto:"users_userPhoto__1l-JL",details:"users_details__1RXqS",selectedPage:"users_selectedPage__2UmZq"}},48:function(A,e,t){A.exports={post:"Post_post__2KBdE",postMessage:"Post_postMessage__1yBy-",likeItem:"Post_likeItem__1fBVP",fa:"Post_fa__mflSn"}},50:function(A,e,t){A.exports={postsBlock:"MyPosts_postsBlock__i-OIe",form:"MyPosts_form__IDQha",buttonForm:"MyPosts_buttonForm__2op7e",posts:"MyPosts_posts__3KCWE"}},59:function(A,e,t){A.exports={formControl:"FormsControls_formControl__1oqnY",error:"FormsControls_error__2IcHp",formSummeryError:"FormsControls_formSummeryError__25xDM"}},6:function(A,e,t){A.exports={nav:"Navbar_nav__16xDv",item:"Navbar_item__2754d",icon:"Navbar_icon__2CdTR",fa:"Navbar_fa__2eWMr",name:"Navbar_name__3pglg",activeLink:"Navbar_activeLink__1aUfF"}},99:function(A,e,t){A.exports={messageFormContainer:"AddMessageForm_messageFormContainer__33gGL",messageButton:"AddMessageForm_messageButton__30Hx0"}}},[[299,1,2]]]);
//# sourceMappingURL=main.c2c68728.chunk.js.map