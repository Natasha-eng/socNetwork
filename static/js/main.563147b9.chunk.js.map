{"version":3,"sources":["redux/profile-reducer.ts","redux/dialogs-reducer.ts","components/common/Preloader/loader.module.css","api/api.ts","serviceWorker.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","assets/images/unknown.jpg","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","components/Header/Header.module.css","components/Users/users.module.css","components/Login/Login.module.css","components/common/FormsControls/FormsControls.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.tsx","assets/images/load.gif","components/common/Preloader/Preloader.tsx","components/common/Paginator/Paginator.module.css","utils/validators/validators.ts"],"names":["ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","posts","id","message","likesCount","profile","status","addPostAC","newPostText","type","setStatus","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getUserStatus","profileAPI","getStatus","updateStatus","resultCode","profileReducer","state","action","newPost","filter","post","postId","SEND_MESSAGE","messages","dialogs","name","sendMessageAC","newMessageBody","dialogsReducer","body","module","exports","instance","axios","create","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","then","follow","unfollow","delete","console","warn","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Navbar","className","navStyles","nav","item","to","activeClassName","activeLink","icon","faAddressCard","fa","faEnvelope","faUsers","faNewspaper","faHeadphones","faUserCog","News","Music","Settings","Header","props","headerStyle","header","logo","faChessQueen","loginBlock","isAuth","loggedName","onClick","SET_USER_DATA","authReducer","payload","setAuthUserData","getAuthUserData","HeaderContainer","this","React","Component","connect","Auth","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","map","u","followed","count","Paginator","totalItemsCount","onPageChanged","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginatorStyles","paginator","p","selectedPage","pageNumber","User","user","usersStyles","card","imgBox","src","photos","small","userPhoto","details","disabled","some","Users","usersContainer","container","createSelector","UsersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","compose","bind","page","items","setUsersTotalCount","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","loginStyles","fieldBox","Field","placeholder","validate","required","component","Input","classname","checkBox","styles","formSummeryError","length","stopSubmit","_error","loginContentBox","formBox","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","DialogsPage","ProfilePage","Sidebar","formReducer","App","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","WrappedComponent","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","SuspenseDialogs","SuspenseProfile","initializeApp","path","render","AppContainer","withRouter","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","preloaderStyle","loader","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.563147b9.chunk.js","sourcesContent":["import {ActionsTypes} from \"./redux-store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nexport type InitialProfileState = {\r\n    posts: Array<PostType>\r\n    profile: null | UserProfileResponseType\r\n    status: string\r\n}\r\n\r\nexport type UserProfileResponseType = {\r\n    aboutMe: string\r\n    userId: number | null\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: {\r\n        github: string\r\n        vk: string\r\n        facebook: string\r\n        instagram: string\r\n        twitter: string\r\n        website: string\r\n        youtube: string\r\n        mainLink: string\r\n    }\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nlet initialState: InitialProfileState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 23},\r\n        {id: 2, message: \"It's my first post\", likesCount: 14},\r\n        {id: 3, message: \"BalBla\", likesCount: 14},\r\n        {id: 4, message: \"DaDa\", likesCount: 14}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nexport const profileReducer = (state: InitialProfileState = initialState, action: ActionsTypes): InitialProfileState => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost: PostType = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state, posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actions\r\nexport const addPostAC = (newPostText: string) => ({type: ADD_POST, newPostText}) as const\r\nexport const setUserProfile = (profile: UserProfileResponseType) => ({type: SET_USER_PROFILE, profile}) as const\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status}) as const\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId}) as const\r\n\r\n\r\n//Thunks\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId: number) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import {ActionsTypes} from \"./redux-store\";\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\ntype InitialStateType = {\r\n    messages: Array<MessageType>\r\n    dialogs: Array<DialogType>\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How is your it-kamasutra?\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: \"Dimych\"},\r\n        {id: 2, name: \"Andrey\"},\r\n        {id: 3, name: \"Sveta\"},\r\n        {id: 4, name: \"Sasha\"},\r\n        {id: 5, name: \"Victor\"},\r\n        {id: 6, name: \"Valera\"}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string) => ({type: SEND_MESSAGE, newMessageBody}) as const\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__2GcSV\"};","import axios from \"axios\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\nimport {UserProfileResponseType} from \"../redux/profile-reducer\";\r\n\r\n\r\nexport type UsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\nexport type CommonDeletePostFollowResponseType = {\r\n    resultCode: number\r\n    messages: String[]\r\n    data: {}\r\n}\r\n\r\ntype PostFollowResponseType = {\r\n    resultCode: number\r\n    messages: String[]\r\n    data: {}\r\n}\r\n\r\ntype UpdateStatusResponseType = {\r\n    resultCode: number\r\n    messages: Array<string>,\r\n    data: {}\r\n}\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '211feec0-1855-4be6-873e-e36e9bb0fc77'\r\n    }\r\n})\r\n\r\ntype AuthResponseType = {\r\n    resultCode: number\r\n    messages: String[],\r\n    data: {\r\n        id: number,\r\n        email: string,\r\n        login: string\r\n    }\r\n}\r\n\r\ntype LoginResponseType = {\r\n    resultCode: number\r\n    messages: String[],\r\n    data: {\r\n        userId: number\r\n    }\r\n}\r\n\r\ntype LogoutResponseType = {\r\n    resultCode: number\r\n    messages: String[],\r\n    data: {}\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n        return instance.get<UsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    follow(userId: number) {\r\n        return instance.post<CommonDeletePostFollowResponseType>(`follow/${userId}`, {},)\r\n    },\r\n\r\n    unfollow(userId: number) {\r\n        return instance.delete<CommonDeletePostFollowResponseType>(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile(userId: number) {\r\n        console.warn('Obsolete method. Please use profileApy object')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: number) {\r\n        return instance.get<UserProfileResponseType>(`profile/` + userId);\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<UpdateStatusResponseType>(`profile/status`, {status});\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    me() {\r\n        return instance.get<AuthResponseType>(`auth/me`)\r\n    },\r\n\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post<LoginResponseType>(`auth/login`, {email, password, rememberMe});\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete<LogoutResponseType>(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and Users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport navStyles from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faAddressCard} from \"@fortawesome/free-regular-svg-icons/faAddressCard\";\r\nimport {faEnvelope} from \"@fortawesome/free-regular-svg-icons/faEnvelope\";\r\nimport {faUsers} from \"@fortawesome/free-solid-svg-icons/faUsers\";\r\nimport {faNewspaper} from \"@fortawesome/free-regular-svg-icons/faNewspaper\";\r\nimport {faHeadphones} from \"@fortawesome/free-solid-svg-icons/faHeadphones\";\r\nimport {faUserCog} from \"@fortawesome/free-solid-svg-icons/faUserCog\";\r\n\r\nfunction Navbar() {\r\n    return (\r\n        <nav className={navStyles.nav}>\r\n            <div className={navStyles.item}>\r\n                <NavLink to=\"/profile\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faAddressCard} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faAddressCard} className={navStyles.fa}/>\r\n                    </div>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n            <div className={`${navStyles.item} ${navStyles.activeLink}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faEnvelope} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faEnvelope} className={navStyles.fa}/>\r\n                    </div>\r\n                    Messages\r\n                </NavLink>\r\n            </div>\r\n            <div className={navStyles.item}>\r\n                <NavLink to=\"/users\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faUsers} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faUsers} className={navStyles.fa}/>\r\n                    </div>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n            <div className={navStyles.item}>\r\n                <NavLink to=\"/news\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faNewspaper} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faNewspaper} className={navStyles.fa}/>\r\n                    </div>\r\n                    News\r\n                </NavLink>\r\n            </div>\r\n            <div className={navStyles.item}>\r\n                <NavLink to=\"/music\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faHeadphones} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faHeadphones} className={navStyles.fa}/>\r\n                    </div>\r\n                    Music\r\n                </NavLink>\r\n            </div>\r\n            <div className={navStyles.item}>\r\n                <NavLink to=\"/settings\" activeClassName={navStyles.activeLink}>\r\n                    <div className={navStyles.icon}>\r\n                        <FontAwesomeIcon icon={faUserCog} className={navStyles.fa}/>\r\n                        <FontAwesomeIcon icon={faUserCog} className={navStyles.fa}/>\r\n                    </div>\r\n                   Settings\r\n                </NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport classes from \"./News.module.css\";\r\n\r\nfunction News() {\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News;","import React from \"react\";\r\nimport classes from \"./Music.module.css\";\r\n\r\nfunction Music() {\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport classes from \"./Settings.module.css\"\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport './Header.module.css';\r\nimport headerStyle from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faChessQueen} from \"@fortawesome/free-solid-svg-icons/faChessQueen\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nfunction Header(props: HeaderPropsType) {\r\n    return (\r\n        <header className={headerStyle.header}>\r\n            <div className={headerStyle.logo}><FontAwesomeIcon icon={faChessQueen} className={headerStyle.fa}/> social network</div>\r\n           {/* <Navbar/>*/}\r\n            <div className={headerStyle.loginBlock}>{props.isAuth ?\r\n                    <div className={headerStyle.loggedName}>{props.login}<button onClick={props.logout}>Log\r\n                        out</button></div>\r\n                    : <NavLink to={\"/login\"}>Log in</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {ActionsTypes, RootStateRedux} from \"./redux-store\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\nexport type InitialAuthPageType = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state: InitialAuthPageType = initialState, action: ActionsTypes): InitialAuthPageType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            let a = {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n            return a\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\n//ActionCreators\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA, payload: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n    }\r\n}) as const\r\n\r\n//thunks\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport type ThunkType = ThunkAction<void, RootStateRedux, unknown, ActionsTypes>;\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}","import React from \"react\";\r\nimport './Header.module.css';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\ntype HeaderContainerPropsType = MapStatePropsType\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateRedux) => ({\r\n    isAuth: state.Auth.isAuth,\r\n    login: state.Auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import {ActionsTypes, FollowSuccessType, RootStateRedux, UnfollowSuccessType} from \"./redux-store\";\r\nimport {CommonDeletePostFollowResponseType, usersAPI} from \"../api/api\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: {\r\n        \"small\": string,\r\n        \"large\": string\r\n    }\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n}\r\n\r\nexport type InitialUsersPageType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nexport type ThunkActionType = ThunkAction<void, RootStateRedux, unknown, ActionsTypes>;\r\n\r\nconst usersReducer = (state: InitialUsersPageType = initialState, action: ActionsTypes): InitialUsersPageType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId}) as const\r\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId}) as const\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users}) as const\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}) as const\r\nexport const setUsersTotalCount = (setUsersTotalCount: number) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: setUsersTotalCount\r\n}) as const\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching}) as const\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n}) as const\r\n\r\n\r\n// export type ThunkDispatchType = ThunkDispatchType<RootStateRedux, unknown, ActionsTypes>;\r\n\r\nexport const requestUsers = (page: number, pageSize: number): ThunkActionType => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number,\r\n                                  apiMethod: any /*(userId: number) => CommonDeletePostFollowResponseType*/,\r\n                                  actionCreator: (userId: number) => FollowSuccessType | UnfollowSuccessType) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId: number): ThunkActionType => {\r\n\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): ThunkActionType => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n","import paginatorStyles from \"./Paginator.module.css\"\r\nimport {useState} from \"react\";\r\n\r\ntype PaginatorType = {\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize: number\r\n}\r\n\r\n\r\nexport const Paginator: React.FC<PaginatorType> = ({\r\n                                                       pageSize,\r\n                                                       totalItemsCount,\r\n                                                       currentPage,\r\n                                                       onPageChanged,\r\n                                                       portionSize = 10\r\n                                                   }) => {\r\n\r\n    let pageCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={paginatorStyles.paginator}>\r\n            {\r\n                portionNumber > 1 && <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>PREVIOUS</button>\r\n            }\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span\r\n                        className={currentPage === p ? paginatorStyles.selectedPage : paginatorStyles.pageNumber}\r\n                        onClick={() => {\r\n                            onPageChanged(p)\r\n                        }}>{p}</span>\r\n                })}\r\n            {\r\n                portionCount > portionNumber &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>NEXT</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport usersStyles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/unknown.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\n\r\ntype UsersPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    user: UserType\r\n    followingInProgress: number[]\r\n}\r\n\r\n\r\nexport function User({\r\n                         user, followingInProgress,\r\n                         follow,\r\n                         unfollow\r\n                     }: UsersPropsType) {\r\n\r\n    return (\r\n        <div className={usersStyles.card}>\r\n            <div className={usersStyles.imgBox}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                         className={usersStyles.userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={usersStyles.details}>\r\n\r\n                <h2>{user.name}</h2>\r\n                <span>{user.status}</span>\r\n                <span>{'user.location.country'}</span>\r\n                <span>{'user.location.country'}</span>\r\n\r\n                {user.followed ?\r\n                    <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                unfollow(user.id);\r\n                            }}>Unfollow</button>\r\n\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id);\r\n                              }}>Follow</button>}\r\n            </div>\r\n        </div>)\r\n}","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAACAgICAgICAgICAwICAgMEAwICAwQFBAQEBAQFBgUFBQUFBQYGBwcIBwcGCQkKCgkJDAwMDAwMDAwMDAwMDAwMAQMDAwUEBQkGBgkNCwkLDQ8ODg4ODw8MDAwMDA8PDAwMDAwMDwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAGQAZADAREAAhEBAxEB/8QAewABAQEBAAMBAQAAAAAAAAAAAAYFBAECAwcJAQEBAAAAAAAAAAAAAAAAAAAAARABAAIBAgIFCAYKAwEAAAAAAAECAxEEIQUxQVFxEmGBkaHB0SITsUJSgiMU4TJicrIzUyQ0BkNzNZIRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP63iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjHtN1l449vktHbFZ09IOiOVcwno20+e1Y+mQJ5VzCOnbT5rVn6JBz5NpusXHJt8lY7ZrOnpBzgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+uHBlz3imHHOS09UdXf2A39tyGOFt1k4/0qe2QbeHZ7bb6fJw1pMfW01t6Z4g6QAAAc2bZ7bca/Ow1vM/W00t6Y4gxNzyGONtrk4/0r+yQYGbBlwXmmbHOO0dU9fd2g+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANXl/K8m80yX1x7ePrddv3feCtwbfDt6Rjw0ilY6dOmfLM9YPsAAAAAAAD459vh3FJx5qRes9GvTHlieoElzDleTZ65Ka5NvP1uuv73vBlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2eV8t/NW+fmiY29Z4V+3MewFdERWIrWIiIjSIjogHkAAAAAAAAAHiYi0TW0RMTGkxPRIJHmnLfytvn4YmdvaeNfsTPsBjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7dhs7bzPXHxjHX4stuyP0guaUrjrWlKxWlI0rWOqIB7AAAAAAAAAAAA9b0rkral6xal40tWeuJBDb/Z22ee2PjOO3xYrdsfoBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtuV7T8rta+KNMuX48nb5I8wNIAAAAAAAAAAAAAGbzTafmtrbwxrlxfHj7fLHnBEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7uW4PzG8xUmNaVnx37q8fXPAF0AAAAAAAAAAAAAAACF5lg/L7zLSI0pafHTutx9U8AcIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKTkGL/IzTHZSs+ufYCkAAAAAAAAAAAAAAABN8/wAX+PmiO2lp9ce0E2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx5JXw7GJ+3e1vZ7Aa4AAAAAAAAAAAAAAAMjndfFsZn7F629ntBHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAteUf+ft/v8A8cg0wAAAAAAAAAAAAAAAZnN//P3H3P44BFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsuS28WxpH2L2j16+0GsAAAAAAAAAAAAAAADJ51bw7G8fbvWPXr7ARoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKbkGX4Nxh64mLxHfwn6IBRAAAAAAAAAAAAAAAAnef5fg2+HrmZvMd3CPpkEyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADR5Vn+RvcczOlcv4dvvdHr0BbgAAAAAAAAAAAAAAAiOa5/n73JMTrXF+HX7vT69QZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRxjhMAu+X7qN3tseTX44+HLH7Ue/pB2gAAAAAAAAAAAAA4uYbqNptsmTX45+HFH7U+7pBCdPGeMyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS5Zvfyef4p/By6Rljs7J8wLWJiYiYnWJ4xMA8gAAAAAAAAAAA8TMREzM6RHGZkEVzPe/nM/wAM/g4tYxR29s+cGaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACg5TzOMfh2u4tpTow5J6vJPkBUAAAAAAAAAAAAl+bczjJ4trt7a06M2SOvyR5AT4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN3l3N5wxXDuZm+KOFMnTNe/tgFTS9MlYvS0XpbjW0TrEg9gAAAAAAAet70x1m97RSleNrTOkQCW5jzec0Ww7aZpinhfJ0Tbu7IBhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6ttvdxtLa4b6Vn9bHPGs+YFHtud7fLpXPE4L9vTWfP1A2KZKZKxbHet6z0WrOseoHuAAAD0vkpjrNsl60rHTa06R6wY+553t8WtcETnv29FY8/WCc3O93G7trmvrWP1cccKx5gcoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPemTJjnxY72x2+1WZifUDupzbf4+Hz/FHZaIn16ag6I57vY6a4rd9Z9kgTz3ez0VxV7qz7ZBz35tv8nD5/hjsrER69NQcN8mTJPiyXtkt9q0zM+sHoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADzWtrTFaxNrT0RHGQaOHlG+zaT8r5VZ68k6erp9QNHH/r/Xl3P3aV9s+4HZXkeyr+tOS/faI+iIB9o5Py+P+CZ77294E8n5fP8AwTHde3vB8bcj2VuiclO60e2JByZP9f68O4+7evtj3Azc3KN9h1n5Xzax14519XT6gZ1q2rM1tE1tHTE8JB4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB9cODLuLxTDjnJaeqOrvnqBQbbkURpbdZNZ/pU6PPIN3Dt8G3r4cOKuOOvSOM989Mg+wAAAAAAAPjm2+DcV8ObFXJHVrHGO6emAYW55FE622uTSf6V+jzSCfzYMu3vNM2Ocdo6p6+6esHyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt7Hk2TPpk3OuHF0xT61vcCow4MW3pGPDjjHWOqOvvnrB9QAAAAAAAAAAAfLNgxbik482OMlZ6p6u6eoEvvuTZMOuTba5cUcZp9avvBiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9qUvktWlKze9p0rWOmQVnL+U023hzZ4jJn6Yr0xT3yDaAAAAAAAAAAAAAAABi8w5TTc+LNgiMefpmvRF/dIJO9L47Wpes0vWdLVnpgHqAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3x475b1x46za950rWAWXL+XU2VPFbS+4tHx37PJANMAAAAAAAAAAAAAAAAAGZzDl1N7TxV0puKx8F+3ySCNyY74r2x5KzW9J0tWQegAAAAAAAAAAAAAAAAAAAAAAAAAAPMRNpiIjWZnSIjrkFjyzl0bSnzMkRO4vHxT9mOyPaDWAAAAAAAAAAAAAAAAAAABk8z5dG7p8zHERuKR8M/ajsn2AjpiazMTGkxOkxPVIPAAAAAAAAAAAAAAAAAAAAAAAAAAKXk2w0iN5lrxn+RWf4vcCjAAAAAAAAAAAAAAAAAAAAABOc52GsTvMVeMfz6x/F7wTQAAAAAAAAAAAAAAAAAAAAAAAANDluznebiK2j8HH8WWfJ1R5wW8RERERGkRwiIB5AAAAAAAAAAAAAAAAAAAAAB4mImJiY1ieExIIjmWznZ7ia1j8HJ8WKfJ1x5gZ4AAAAAAAAAAAAAAAAAAAAAAERMzERGszwiAXXL9pGz21cc/zLfFln9qerzA7gAAAAAAAAAAAAAAAAAAAAAAAcPMNpG7218cR+JX4sU/tR1ecELMTEzExpMcJgAAAAAAAAAAAAAAAAAAAAAAGzyXa/O3E5rRrj2+kx5bT0ejpBXgAAAAAAAAAAAAAAAAAAAAAAAAAkOdbX5O4jNSNMe44z5LR0+npBjAAAAAAAAAAAAAAAAAAAAAAuuXbb8rtMeOY0vaPHk/en3dAO4AAAAAAAAAAAAAAAAAAAAAAAAAHDzHbfmtplxxGt6x48f70e/oBCgAAAAAAAAAAAAAAAAAAAA7+Wbf8xvMVZjWlJ8d+6vvkFyAAAAAAAAAAAAAAAAAAAAAAAAAAACG5nt/y+8y1iNKXnx07rfpBwAAAAAAAAAAAAAAAAAAAAqOQ4PDjzbiY43nwV7o4z65BQAAAAAAAAAAAAAAAAAAAAAAAAAAAAn+fYPFjw7iI40nwW7p4x64BLgAAAAAAAAAAAAAAAAAAAvdji+Rs9vj00mKRNu+3GfpB1gAAAAAAAAAAAAAAAAAAAAAAAAAAA5N9i+ftNxj6ZmkzXvrxj6AQQAAAAAAAAAAAAAAAAAAPttsfztxhxdWS9az3TPEH6EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD893OP5O4zYurHe0R3RPAHxAAAAAAAAAAAAAAAAABqcmx+Pf456sdbWn0ae0FoAAAAAAAAAAAAAAAAAAAAAAAAAAAAACL5zj8G/yT1ZK1tHo09gMsAAAAAAAAAAAAAAAAAG/yCmubcX+zSK+mdfYCpAAAAAAAAAAAAAAAAAAAAAAAAAAAAABLc/ppm29/tUmv/zOvtBgAAAAAAAAAAAAAAAAAApv9fr8G5t22rHoifeCiAAAAAAAAAAAAAAAAAAAAAAAAAAAAABO/wCwV+DbW7LWj0xHuBMgAAAAAAAAAAAAAAAAAq+QR/bZp7cunorAN0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAGFz+P7bDPZl09NZBKAAAAAAAAAAAAAAAAAAreQ/4eT/un+GoNsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGJz7/Dxf8AdH8NgSQAAAAAAAAAAAAAAAAAKvkE/wBtmjsy6+msA3QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYXP5/tsMduXX0VkEoAAAAAAAD//Z\"","import React from \"react\";\r\nimport usersStyles from \"./users.module.css\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\ntype UsersType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: number[]\r\n}\r\n\r\n\r\nexport function Users({totalUsersCount, pageSize, currentPage,\r\n                          onPageChanged, users,  ...props }: UsersType){\r\n\r\n    /*\r\n\r\n    let pageCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n*/\r\n\r\n    return (\r\n        <div className={usersStyles.usersContainer}>\r\n\r\n            {/* <div>\r\n                {pages.map(p => {\r\n                    return <span className={props.currentPage === p ? usersStyles.selectedPage : \"\"}\r\n                                 onClick={() => {\r\n                                     props.onPageChanged(p)\r\n                                 }}>{p}</span>\r\n                })}\r\n            </div>*/}\r\n\r\n            <Paginator totalItemsCount={totalUsersCount} currentPage={currentPage} onPageChanged={onPageChanged}\r\n                       pageSize={pageSize} portionSize={10}/>\r\n\r\n            <div className={usersStyles.container}>\r\n                {users.map(u => <User user = {u}  unfollow = {props.unfollow} follow={props.follow} followingInProgress={props.followingInProgress} key={u.id} />)}\r\n            </div>\r\n\r\n        </div>)\r\n}","import {RootStateRedux} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state: RootStateRedux) => {\r\n    return state.UsersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: RootStateRedux) => {\r\n    return state.UsersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootStateRedux) => {\r\n    return state.UsersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: RootStateRedux) => {\r\n    return state.UsersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: RootStateRedux) => {\r\n    return state.UsersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootStateRedux) => {\r\n    return state.UsersPage.followingInProgress;\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType\r\n} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nexport type UsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersPropsType = mapStatePropsType & mapDispatchPropsType\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize);\r\n\r\n        /*this.props.toggleIsFetching(true)\r\n\r\n        usersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n            this.props.setUsers(data.items)\r\n            this.props.setUsersTotalCount(data.totalCount)\r\n            this.props.toggleIsFetching(false)\r\n        })*/\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state: RootStateRedux): mapStatePropsType => {\r\n    return {\r\n        users: state.UsersPage.users,\r\n        pageSize: state.UsersPage.pageSize,\r\n        totalUsersCount: state.UsersPage.totalUsersCount,\r\n        currentPage: state.UsersPage.currentPage,\r\n        isFetching: state.UsersPage.isFetching,\r\n        followingInProgress: state.UsersPage.followingInProgress\r\n    }\r\n}*/\r\n\r\nlet mapStateToProps = (state: RootStateRedux): mapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n/*let withRedirect = withAuthRedirect(UsersContainer)\r\n\r\nconnect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, getUsers})(withRedirect)*/\r\n\r\nexport default compose<React.ComponentType>(\r\n    //withAuthRedirect,\r\n    connect(mapStateToProps,\r\n        {follow, unfollow, setCurrentPage, requestUsers})\r\n)(UsersContainer)","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {CreateField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\nimport styles from \"../common/FormsControls/FormsControls.module.css\";\r\nimport loginStyles from \"./Login.module.css\";\r\n\r\ntype LoginFormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginForm: React.FunctionComponent<InjectedFormProps<LoginFormDataType>> = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={loginStyles.fieldBox}>\r\n                <span>Email</span>\r\n               {/* {CreateField(\"email\", \"email\", [required], Input)}*/}\r\n                 <Field  placeholder={'email'} name={'email'} validate={[required]} component={Input}/>\r\n            </div>\r\n            <div className={loginStyles.fieldBox}>\r\n                <span>Password</span>\r\n                {/*{CreateField(\"Password\", \"password\", [required], Input,{type: 'password'} )}*/}\r\n                <Field placeholder={'Password'} name={'password'} type={'password'} validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div className={loginStyles.rememberMe}>\r\n                <Field classname={loginStyles.checkBox} type={'checkbox'} name={'rememberMe'} component={Input}/>\r\n                <label>remember me</label>\r\n\r\n            </div>\r\n            <div className={loginStyles.fieldBox}>\r\n                <button>Login</button>\r\n            </div>\r\n            {error && <div className={styles.formSummeryError}>\r\n                {error}\r\n            </div>}\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormDataType>({form: 'login'})(LoginForm)\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\ntype LoginPropsType = MapDispatchPropsType & MapStatePropsType;\r\n\r\nconst Login: React.FunctionComponent<LoginPropsType> = (props) => {\r\n    const onSubmit = (formData: LoginFormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={loginStyles.loginContentBox}>\r\n            <div className={loginStyles.formBox}>\r\n                <h1>login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateRedux): MapStatePropsType => ({\r\n    isAuth: state.Auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {ActionsTypes} from \"./redux-store\";\r\nimport {getAuthUserData, ThunkType} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nexport type InitialAppPageType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: InitialAppPageType = initialState, action: ActionsTypes): InitialAppPageType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n\r\n//ActionCreators\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS}) as const\r\n\r\n//thunks\r\nexport const initializeApp = (): ThunkType => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    promise.then(() => {\r\n\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\n","import {RootStateType, SidebarType} from \"./store\";\r\nimport {ActionsTypes} from \"./redux-store\";\r\n\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes): SidebarType => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore, Store} from \"redux\";\r\nimport dialogsReducer, {sendMessageAC} from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport profileReducer, {addPostAC, deletePost, setStatus, setUserProfile} from \"./profile-reducer\";\r\nimport usersReducer, {\r\n    followSuccess,\r\n    setCurrentPage,\r\n    setUsers,\r\n    setUsersTotalCount,\r\n    toggleFollowingProgress,\r\n    toggleIsFetching,\r\n    unfollowSuccess\r\n} from \"./users-reducer\";\r\nimport authReducer, {setAuthUserData} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport reducer, {reducer as formReducer} from 'redux-form'\r\nimport appReducer, {initializedSuccess} from \"./app-reducer\";\r\n\r\nexport type FollowSuccessType = ReturnType<typeof followSuccess>;\r\nexport type UnfollowSuccessType = ReturnType<typeof unfollowSuccess>;\r\nexport type ActionsTypes = ReturnType<typeof addPostAC> |\r\n    ReturnType<typeof sendMessageAC> |\r\n    FollowSuccessType |\r\n    UnfollowSuccessType |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setUsersTotalCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof setUserProfile> |\r\n    ReturnType<typeof setAuthUserData> |\r\n    ReturnType<typeof toggleFollowingProgress> |\r\n    ReturnType<typeof setStatus>|\r\n    ReturnType<typeof initializedSuccess> |\r\n    ReturnType<typeof deletePost>\r\n\r\n\r\nconst reducers = combineReducers({\r\n    DialogsPage: dialogsReducer,\r\n    ProfilePage: profileReducer,\r\n    UsersPage: usersReducer,\r\n    Sidebar: sidebarReducer,\r\n    Auth: authReducer,\r\n    form: formReducer,\r\n    App: appReducer\r\n});\r\n\r\n\r\nexport type RootStateRedux = ReturnType<typeof reducers>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n// @ts-ignore\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\ntype Window = typeof window & { store: Store }\r\n(window as Window).store = store;\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport function withSuspense <T> (WrappedComponent: React.ComponentType<T>) {\r\n\r\n    return (props:T ) => {\r\n\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n\r\n    }\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport News from './components/News/News';\nimport Music from \"./components/Music/Music\";\nimport Settings from './components/Settings/Settings';\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport UsersContainer from './components/Users/UsersContainer';\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport store, {RootStateRedux} from \"./redux/redux-store\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nconst SuspenseDialogs = withSuspense(DialogsContainer)\nconst SuspenseProfile= withSuspense(ProfileContainer)\n\n\ntype MapDispatchPropsType = {\n    initializeApp: () => void\n}\n\ntype MapStatePropsType = {\n    initialized: boolean\n}\n\nexport type PropsType = MapDispatchPropsType & MapStatePropsType\n\nclass App extends React.Component<PropsType> {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        // const state = props.store.getState()\n\n        return (\n            <div>\n                <HeaderContainer/>\n                <div className='app-wrapper'>\n                    <div className=\"app-wrapper-content\">\n                        <Route path='/dialogs' render={ ()=> <SuspenseDialogs/> }/>\n\n                        <Route path='/profile/:userId?' render={ ()=> <SuspenseProfile/> }/>\n\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n\n                        <Route path='/news' render={() => <News/>}/>\n\n                        <Route path=\"/music\" render={() => <Music/>}/>\n\n                        <Route path=\"/settings\" render={() => <Settings/>}/>\n\n                        <Route path=\"/login\" render={() => <Login/>}/>\n                    </div>\n                </div>\n                <Navbar/>\n            </div>\n\n        )\n    }\n}\n\nconst mapStateToProps = (state: RootStateRedux) => ({\n    initialized: state.App.initialized\n})\n\nlet AppContainer = compose<React.ComponentType>(withRouter,\n    connect<MapStatePropsType, MapDispatchPropsType, {}, RootStateRedux>(mapStateToProps, {initializeApp}))(App)\n\nlet MainApp = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default MainApp\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport MainApp from './App'\n\nReactDOM.render( <MainApp/>\n    , document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1E8aN\",\"logo\":\"Header_logo__26hxl\",\"fa\":\"Header_fa__ucwRi\",\"loginBlock\":\"Header_loginBlock__l8BLs\",\"loggedName\":\"Header_loggedName__qvkM5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"users_usersContainer__1yMOv\",\"container\":\"users_container__bUhFp\",\"card\":\"users_card__1BvjP\",\"imgBox\":\"users_imgBox__15S50\",\"userPhoto\":\"users_userPhoto__1l-JL\",\"details\":\"users_details__1RXqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContentBox\":\"Login_loginContentBox__1PHR9\",\"formBox\":\"Login_formBox__By_-4\",\"fieldBox\":\"Login_fieldBox__8bOVW\",\"rememberMe\":\"Login_rememberMe__3wL42\",\"checkBox\":\"Login_checkBox__2kjaw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1oqnY\",\"error\":\"FormsControls_error__2IcHp\",\"formSummeryError\":\"FormsControls_formSummeryError__25xDM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__16xDv\",\"item\":\"Navbar_item__2754d\",\"icon\":\"Navbar_icon__2CdTR\",\"fa\":\"Navbar_fa__2eWMr\",\"activeLink\":\"Navbar_activeLink__1aUfF\"};","import React, {Component, FC} from \"react\";\r\nimport styles from './FormsControls.module.css';\r\nimport {Field, WrappedFieldProps} from \"redux-form\";\r\nimport {WrappedFieldMetaProps} from \"redux-form/lib/Field\";\r\nimport {FieldValidatorType} from \"../../../utils/validators/validators\";\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps,\r\n    children: React.ReactNode\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder: string | null, name: string, validators: FieldValidatorType[],\r\n                            component: FC<WrappedFieldProps>, props?: { type: string }) => {\r\n    return <Field placeholder={placeholder} name={name} validate={validators} component={component} {...props}/>\r\n}","export default __webpack_public_path__ + \"static/media/load.635828fc.gif\";","import React from \"react\";\r\nimport loader from \"../../../assets/images/load.gif\";\r\nimport preloaderStyle from \"./loader.module.css\";\r\n\r\nexport function Preloader() {\r\n    return <div className={preloaderStyle.loader}>\r\n        <img src={loader}/>\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1dQSR\",\"pageNumber\":\"Paginator_pageNumber__38KLS\",\"paginator\":\"Paginator_paginator__2WjcG\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n"],"sourceRoot":""}